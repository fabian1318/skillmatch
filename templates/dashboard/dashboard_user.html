{% extends 'base.html' %}

{% block title %}Mi Dashboard{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <h2 class="fw-bold">Hola, <span style="color: var(--primary-red);">{{ user.first_name }}</span> </h2>
        <p class="text-muted">Aqu铆 tienes un resumen de tu actividad acad茅mica en SkillMatch.</p>
    </div>
</div>

<!-- Secci贸n de Estad铆sticas (Widgets) -->
<div class="row mb-4">
    <!-- Widget 1: Habilidades Ofrecidas -->
    <div class="col-md-3 col-sm-6 mb-3">
        <div class="card card-custom h-100 border-start border-4 border-success">
            <div class="card-body-custom">
                <h6 class="text-muted text-uppercase small fw-bold">Ofreces</h6>
                <div class="d-flex align-items-center justify-content-between">
                    <h2 class="fw-bold mb-0">{{ total_ofrecidas }}</h2>
                    <i class="bi bi-lightning-charge-fill text-success fs-3"></i>
                </div>
                <small class="text-muted">Habilidades activas</small>
            </div>
        </div>
    </div>

    <!-- Widget 2: Habilidades Buscadas -->
    <div class="col-md-3 col-sm-6 mb-3">
        <div class="card card-custom h-100 border-start border-4 border-info">
            <div class="card-body-custom">
                <h6 class="text-muted text-uppercase small fw-bold">Buscas</h6>
                <div class="d-flex align-items-center justify-content-between">
                    <h2 class="fw-bold mb-0">{{ total_buscadas }}</h2>
                    <i class="bi bi-search text-info fs-3"></i>
                </div>
                <small class="text-muted">Intereses de aprendizaje</small>
            </div>
        </div>
    </div>

    <!-- Widget 3: Intercambios -->
    <div class="col-md-3 col-sm-6 mb-3">
        <div class="card card-custom h-100 border-start border-4 border-warning">
            <div class="card-body-custom">
                <h6 class="text-muted text-uppercase small fw-bold">Intercambios</h6>
                <div class="d-flex align-items-center justify-content-between">
                    <h2 class="fw-bold mb-0">{{ intercambios_completados }}</h2>
                    <i class="bi bi-arrow-repeat text-warning fs-3"></i>
                </div>
                <small class="text-muted">Sesiones completadas</small>
            </div>
        </div>
    </div>

    <!-- Widget 4: Reputaci贸n -->
    <div class="col-md-3 col-sm-6 mb-3">
        <div class="card card-custom h-100 border-start border-4 border-danger">
            <div class="card-body-custom">
                <h6 class="text-muted text-uppercase small fw-bold">Nivel</h6>
                <div class="d-flex align-items-center justify-content-between">
                    <h4 class="fw-bold mb-0">{{ nivel_reputacion }}</h4>
                    <i class="bi bi-trophy-fill text-danger fs-3"></i>
                </div>
                <small class="text-muted">Reputaci贸n actual</small>
            </div>
        </div>
    </div>
</div>

<!-- Accesos R谩pidos (Ahora ocupa todo el ancho) -->
<div class="row">
    <div class="col-12">
        <div class="card card-custom">
            <div class="card-header-custom">
                <h5 class="mb-0">Accesos R谩pidos</h5>
            </div>
            <div class="card-body-custom">
                <div class="d-grid gap-2 d-md-flex">
                    <a href="{% url 'profile' %}" class="btn btn-outline-primary flex-fill">
                        <i class="bi bi-person-circle me-2"></i>Ver Mi Perfil
                    </a>
                    <!-- Bot贸n Buscar ACTIVADO -->
                    <a href="{% url 'buscar' %}" class="btn btn-primary flex-fill text-white fw-bold">
                        <i class="bi bi-search me-2"></i>Buscar Compa帽eros
                    </a>
                    <!-- Bot贸n Mis Intercambios (Agregado extra para facilitar la navegaci贸n) -->
                    <a href="{% url 'listar_intercambios' %}" class="btn btn-outline-secondary flex-fill">
                        <i class="bi bi-arrow-left-right me-2"></i>Mis Intercambios
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}